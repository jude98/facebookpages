{"version":3,"sources":["components/Auth.js","components/state/UserDetails.js","components/Login.js","components/RestrictedRoute.js","components/home/Nav.js","components/home/Appbar.js","components/home/Row.js","components/home/Listings.js","components/Home.js","App.js","index.js"],"names":["this","authenticated","callback","library","add","fab","faFacebook","faGooglePlus","faYelp","faYahoo","faFoursquare","ACTIONS","GET","CHANGE","initialState","id","icon","source","name","about","address","phone","mission","rating","listed","reducer","listings","action","type","payload","details","location","overall_star_rating","access_token","newList","pageInfo","street","push","map","each","facebookContext","createContext","UserDetailsProvider","children","useReducer","dispatch","Provider","value","Login","props","useContext","getPageInfo","response","axios","get","userID","accessToken","then","res","data","forEach","page","cancelToken","CancelToken","token","getEachPageInfo","catch","e","console","log","className","appId","fields","scope","status","Auth","login","history","RestrictedRoute","Component","component","rest","render","to","pathname","state","from","navItems","text","Web","Mouse","Star","sel","EventAvailable","Settings","useStyles","makeStyles","theme","drawer","flexShrink","width","toolbar","backgroundColor","height","drawerPaper","typography","marginTop","color","fontSize","letterSpacing","Nav","classes","Drawer","variant","anchor","paper","Typography","align","Divider","List","item","ListItem","button","key","selected","style","ListItemIcon","ListItemText","primary","app","marginLeft","display","flexDirection","justifyContent","alignItems","form","marginRight","padding","logout","Appbar","handleLogout","AppBar","position","Select","defaultValue","MenuItem","Button","onClick","Row","listing","useState","edit","setEdit","setAbout","setPhone","setMission","Fragment","TableCell","TextField","onChange","target","Close","prev","Done","post","alert","Edit","mixins","flexGrow","palette","background","default","spacing","table","minWidth","heading","margin","textTransform","Listings","TableContainer","Paper","Table","TableHead","TableRow","TableBody","row","home","Home","CssBaseline","App","path","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.68ee22e3.chunk.js","sourcesContent":["//  For handling Authentication. Callback function pushes path to props.history. \n// (When logout pushes '/' to history and \n// so can't simply redirect to dashboard without login)\n\nclass Auth {\n    constructor(){\n        this.authenticated = false\n    }\n    \n    login(callback){\n        this.authenticated = true\n        callback()\n    }\n    \n    logout(callback){\n        this.authenticated = false\n        callback()\n    }\n\n    status(){\n        return this.authenticated\n    }\n}\n\n\nexport default new Auth()","import React, { useReducer, createContext } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab, faFacebook, faGooglePlus, faYelp, faYahoo, faFoursquare } from '@fortawesome/free-brands-svg-icons'\n\nlibrary.add(fab,faFacebook,faGooglePlus,faYelp, faYahoo, faFoursquare)\n\n//  ACTIONS\nconst ACTIONS = {\n    GET : 'get',\n    CHANGE : 'change-value'\n}\n\n//  Initial State\nconst initialState = [\n    {\n        id : \"1\",\n        icon : <FontAwesomeIcon icon={['fab','google-plus-g']} />,\n        source : \"Google\",\n        name : \"ABC Dental\",\n        about : \"Best Dental\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        mission : 'Provide Best Care',\n        rating : \"3/5\",\n        listed : true,\n    },\n    {\n        id : \"2\",\n        icon : <FontAwesomeIcon icon={['fab','yelp']} />,\n        source : \"Yelp\",\n        name : \"ABC Dental\",\n        about : \"Best Dental Care\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        mission : 'Healthy Thooths',\n        rating : \"2/5\",\n        listed : false,\n    },\n    {\n        id : \"3\",\n        icon :  <FontAwesomeIcon icon={['fab','yahoo']} />,\n        source : \"Yahoo!\",\n        name : \"ABC Dental\",\n        about : \"Dental in DownTown!\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        mission : 'Provide Best Care',\n        rating : \"3/5\",\n        listed : true,\n    },\n    {\n        id : \"4\",\n        icon : <FontAwesomeIcon icon={['fab','foursquare']} />,\n        source : \"Foursqaure\",\n        name : \"ABC Dental\",\n        about : \"Its ABC Dental\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        mission : 'Healthy Thooths',\n        rating : \"3/5\",\n        listed : false,\n    }\n]\n\n// REDUCER function (GET and UPDATE)\nconst reducer = (listings, action) => {\n    switch (action.type) {\n        // GET When login state is updated by fetching info from user's page\n        case ACTIONS.GET : \n            var {location, phone, name, about, overall_star_rating, mission, access_token, id} = action.payload.details\n            var [...newList] = listings\n            const pageInfo = {\n                id : id,\n                access_token : access_token,\n                icon : <FontAwesomeIcon icon={['fab','facebook-f']} />,\n                source : \"Facebook\",\n                name : name,\n                about : about,\n                address : location.street,\n                phone : phone,\n                mission : mission,\n                rating : overall_star_rating ? `${overall_star_rating}/5` : 'No rating yet',\n                listed : true\n            }\n            newList.push(pageInfo)\n                \n            return newList\n\n        // UPDATE When the Update button is clicked and state is updated. Update on facebook page is done at Row Component\n        case ACTIONS.CHANGE :\n            var {about, phone, mission, id} = action.payload\n            const tmpList = listings.map(each => {\n                if(each.id === id) {\n                    return {...each,about:about,phone:phone,mission:mission}\n                }\n                return each\n            })\n            return tmpList\n        default : return listings\n    }\n}\n\n// State is available for all the components\nexport const facebookContext = createContext()\n\nexport const UserDetailsProvider = ({ children }) => {\n    const [listings, dispatch] = useReducer(reducer, initialState) \n \n    return(\n        <facebookContext.Provider value={[listings, dispatch, ACTIONS]}>\n            {children}\n        </facebookContext.Provider> \n    )\n}\n","import React, { useContext } from 'react'\nimport axios from 'axios'\nimport FacebookLogin from 'react-facebook-login'\nimport Auth from './Auth'\nimport '../App.css'\nimport { facebookContext } from './state/UserDetails'\n\n//  The permissions to be allowed by user\n\nconst scope = \"email,pages_manage_cta,pages_show_list,pages_read_engagement,pages_manage_metadata,pages_read_user_content,public_profile\"\n\nconst Login = (props) => {\n    const [ , dispatch, ACTIONS ] = useContext(facebookContext)\n\n    // Get info of each page (location, phone, name, about, rating, mission, acces_token, id)\n\n    const getEachPageInfo = page => {\n        const cancelToken = axios.CancelToken.source()\n        axios.get(`https://graph.facebook.com/${page.id}?fields=location,phone,name,about,overall_star_rating,mission,access_token&access_token=${page.access_token}`,\n        {cancelToken:cancelToken.token})\n        .then(response => {\n            dispatch({type : ACTIONS.GET, payload : {details : response.data}})\n        })\n        return () => cancelToken.cancel()\n        \n    }\n\n    // Get the info of pages handled by user\n\n    const getPageInfo = (response) => {\n        axios.get(`https://graph.facebook.com/${response.userID}/accounts?access_token=${response.accessToken}`)\n        .then(res => {\n            res.data.data.forEach(page => {\n               getEachPageInfo(page)\n            })\n        })\n        .catch(e => console.log(e))\n    }\n\n    // Loads the users information is authorised.\n\n    const responseFacebook = (response) => {\n        console.log(response)\n        if(response.status === 'unknown' || response.status === 'not_authorized'){\n            console.log('not allowed')\n        }else{\n            Auth.login(() => {\n                props.history.push('/home')\n            })\n            \n            getPageInfo(response)\n        }\n\n    }\n        \n    return(\n        <div className=\"login\">\n            <FacebookLogin \n                appId='3672394659438713'\n                fields=\"name,email,picture\"\n                scope={scope}\n                callback={responseFacebook}\n                icon=\"fa-facebook\"\n            />\n        </div>\n    )\n\n    \n\n   \n    \n}\n\nexport default Login","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport Auth from './Auth'\n\n//  Implemented to allow only authorised users to access the listings page so that if not authenticted it wont show listing page\n\nconst RestrictedRoute = ({component : Component, ...rest}) => {\n    return(\n        <Route {...rest} \n            render={props => {\n                if(Auth.status()) {\n                    return <Component {...props} />\n                }\n                else{\n                    return(\n                        <Redirect\n                            to={{\n                                pathname:'/',\n                                state: {\n                                    from : props.location\n                                }\n                            }}\n                        />\n                    )\n                }\n            }}\n        />\n    )\n}\n\nexport default RestrictedRoute","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Drawer, List, Typography, Divider, ListItem, ListItemText, ListItemIcon } from '@material-ui/core'\nimport { Home, Web, Mouse, Star, List as ListIcon, EventAvailable, Settings } from '@material-ui/icons'\n\n//  Default nav items and default set to Listings and others are invalid\n\nconst navItems = [\n    {\n        icon : <Home />,\n        text : \"Dashboard\"\n    },\n    {\n        icon : <Web />,\n        text : \"Website\"\n    },\n    {\n        icon : <Mouse />,\n        text : \"Visitors\"\n    },\n    {\n        icon : <Star />,\n        text : \"Reviews\"\n    },\n    {\n        icon : <ListIcon />,\n        text : \"Listings\",\n        sel : true\n    },\n    {\n        icon : <EventAvailable />,\n        text : \"Appointments\"\n    },\n    {\n        icon : <Settings />,\n        text : \"Settings\"\n    }\n]\n\nconst useStyles = makeStyles(theme => ({\n    drawer : {\n        flexShrink : 0,\n        width : 270,\n    },\n    toolbar : {\n        backgroundColor : '#009688',\n        height : 74\n    },\n    drawerPaper: {\n        width: 270,\n        backgroundColor : '#33ab9f'\n      },\n    typography : {\n        marginTop : 15,\n        color : 'white',\n        fontSize : 25,\n        letterSpacing : 2,\n    }\n\n}))\n\nconst Nav = () => {\n    const classes = useStyles()\n\n    return(\n       <div>\n           <Drawer\n            variant='permanent'\n            className={classes.drawer}\n            anchor=\"left\"\n            classes={{paper: classes.drawerPaper}}\n           >\n                <div className={classes.toolbar}>\n                    <Typography \n                        className={classes.typography} \n                        align=\"center\" \n                        color=\"primary\" \n                        variant=\"h6\">\n                            GROWTH PLUG\n                    </Typography>\n                </div>\n                <Divider />\n                <List>\n                    {navItems.map(item => (\n                        <ListItem \n                            button key={item.text} \n                            selected={item.sel ? true : false} \n                            style={{ color : 'white'}}\n                        >\n                            <ListItemIcon style={{ color : 'white'}}>{item.icon}</ListItemIcon>\n                            <ListItemText primary={item.text}/>\n                        </ListItem>\n                    ))}\n                </List>\n           </Drawer>\n       </div>\n    )\n}\n\nexport default Nav ","import React from 'react'\nimport { AppBar, Select, MenuItem, Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\n\n\n\nconst useStyles = makeStyles({\n    app : {\n        backgroundColor : 'white',\n        width : 'calc(100% - 270px)',\n        marginLeft : '270px',\n        display : 'flex',\n        flexDirection : 'row',\n        justifyContent : 'flex-end',\n        alignItems : 'center'\n    },\n    form : {\n        marginRight : '70px',\n        padding : '20px'\n    },\n    logout: {\n        marginRight : 20,\n    }\n\n})\n\nconst Appbar = ({handleLogout}) => {\n    const classes = useStyles()\n\n    return(\n        <AppBar position=\"fixed\" className={classes.app}>\n            <div className={classes.form}>\n                <Select id=\"loc\" defaultValue=\"San Jose, CA\">\n                    <MenuItem value=\"San Jose, CA\">San Jose, CA</MenuItem>\n                </Select>\n            </div>\n            <div className={classes.logout}>\n                <Button variant=\"contained\" color=\"primary\" onClick={handleLogout}>Logout</Button>\n            </div>\n        </AppBar>\n    )\n}\n\nexport default Appbar\n","import React, { useState, useContext } from 'react'\nimport { facebookContext } from '../state/UserDetails'\nimport { TableCell, TextField, Button } from '@material-ui/core'\nimport { Edit, Close, Done } from '@material-ui/icons'\nimport axios from 'axios'\n\n//  Component for each row of table.\n\nconst Row = ({ listing }) => {\n    const [ ,dispatch, ACTIONS ] = useContext(facebookContext)\n    const [ edit, setEdit ] = useState(false)\n    const [ about ,setAbout ] = useState(listing.about)\n    const [ phone, setPhone ] = useState(listing.phone)\n    const [ mission, setMission ] = useState(listing.mission)\n    \n    // Handle the update (about, phone and mission are updatable fields)\n    const handleUpdate = () => {\n        setEdit(prev => !prev)\n        if(listing.id > 4) {\n            axios.post(`https://graph.facebook.com/${listing.id}?about=${about}&phone=${phone}&mission=${mission}&access_token=${listing.access_token}`)\n            .then(response => {\n                if(response.status === 200) {\n                    dispatch({type: ACTIONS.CHANGE, payload:{about : about, phone : phone, mission : mission,  id : listing.id}})\n                    alert('Successfully Updated')\n                }\n                else alert(\"Couldn't Update.. Status : \"+response.status)\n            })\n        }\n        else dispatch({type: ACTIONS.CHANGE, payload:{about : about, phone : phone, mission : mission,  id : listing.id}})\n        \n    }\n    \n    //  When Edit icon is clicked, edit state changes to true\n    const handleEdit = () => {\n        setEdit(prev => !prev)\n    }\n    \n    //  To cancel the edit. The cross symbol\n    const handleCancel = () => {\n        setAbout(listing.name)\n        setPhone(listing.phone)\n        // edit state changes to false\n        setEdit(prev => !prev)\n    }\n\n    return(\n        <React.Fragment>\n            {/* ICON  */}\n            <TableCell align=\"center\" style={{fontSize : '1.4rem'}}>\n                {listing.icon}\n            </TableCell>\n            {/* SOURCE */}\n            <TableCell align=\"center\">{listing.source}</TableCell>\n            {/* NAME */}\n            <TableCell align=\"center\">{listing.name}</TableCell>\n            {/* ABOUT. Editable */}\n            <TableCell align=\"center\">\n                {edit ? \n                    <TextField \n                        name='about' \n                        value={about} \n                        onChange={e => setAbout(e.target.value)} \n                        color='secondary'\n                    /> : \n                    listing.about}\n            </TableCell>\n            {/* MISSION. Editable */}\n            <TableCell align=\"center\">\n                {edit ? \n                    <TextField \n                        name='mission' \n                        value={mission} \n                        onChange={e => setMission(e.target.value)} \n                        color='secondary'\n                    /> : \n                    listing.mission}\n            </TableCell>\n            {/* ADDRESS */}\n            <TableCell align=\"center\">{listing.address}</TableCell>\n            {/* PHONE. Editable */}\n            <TableCell align=\"center\">\n                {edit ? \n                    <TextField \n                        name='phone' \n                        value={phone} \n                        onChange={e => setPhone(e.target.value)} \n                        color='secondary'\n                    /> : \n                    listing.phone}\n            </TableCell>\n            {/* RATING */}\n            <TableCell align=\"center\">{listing.rating}</TableCell>\n            {/* LISTED */}\n            <TableCell align=\"center\">{listing.listed ? 'Yes': 'No'}</TableCell>\n            {/* STATUS. Can cancle the edit on cross icon */}\n            <TableCell align=\"center\">\n                {edit ?\n                    <Close \n                        color=\"secondary\" \n                        style={{fontSize : 35}} \n                        onClick={handleCancel} \n                    /> :\n                    <Done style={{fontSize : 35,color: \"#4caf50\" }} />        \n                }\n            </TableCell>\n            {/* UPDATE. Update editable fields on click */}\n            <TableCell align=\"center\">\n                {edit ? \n                    <Button \n                        variant=\"contained\" \n                        color=\"primary\" \n                        onClick={handleUpdate}\n                    >\n                        Update\n                    </Button> :\n                    <Edit color=\"primary\" onClick={handleEdit} />\n                }\n            </TableCell>\n    </React.Fragment>\n    )\n}\n\nexport default Row","import React, { useContext } from 'react'\nimport { makeStyles, Typography, Table, TableBody, TableContainer, TableRow, TableCell, TableHead, Paper } from '@material-ui/core'\nimport { facebookContext } from '../state/UserDetails'\nimport Row from './Row'\n\n//    The Listings Table ..\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: theme.mixins.toolbar,\n    listings : {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.default,\n        padding: theme.spacing(3)\n    },\n    table : {\n        minWidth : 650\n    },\n    heading : {\n        margin : 30,\n        textTransform : \"uppercase\"\n    }\n}))\n\nconst Listings = () => {\n    const [listings] = useContext(facebookContext)\n    const classes = useStyles()\n    return(\n        <div className={classes.listings}>\n            <div className={classes.toolbar} />\n            <Typography \n                align=\"center\" \n                variant=\"h4\" \n                className={classes.heading}\n            >\n                Listings\n            </Typography>\n            <TableContainer component={Paper}>\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell></TableCell>\n                            <TableCell align=\"center\">Source</TableCell>\n                            <TableCell align=\"center\">Name</TableCell>\n                            <TableCell align=\"center\">About</TableCell>\n                            <TableCell align=\"center\">Mission</TableCell>\n                            <TableCell align=\"center\">Address</TableCell>\n                            <TableCell align=\"center\">Phone</TableCell>\n                            <TableCell align=\"center\">Rating</TableCell>\n                            <TableCell align=\"center\">Listed</TableCell>\n                            <TableCell align=\"center\">Status</TableCell>\n                            <TableCell align=\"center\">Action</TableCell>\n                       </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {listings.map(row => (\n                            <TableRow key={row.id}>\n                                <Row listing={row} />\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>\n    )\n}\n\nexport default Listings","import React from 'react'\nimport Nav from './home/Nav'\nimport Appbar from './home/Appbar'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { CssBaseline } from '@material-ui/core'\nimport Listings from './home/Listings'\nimport Auth from './Auth'\n\nconst useStyles = makeStyles({\n    home : {\n        display : 'flex'\n    }\n})\n\nconst Home = (props) => {\n    const classes = useStyles()\n\n    // On Logout button click home path is pushed to props.history so redirected to login page. \n    const handleLogout = () => {\n        Auth.logout(() => props.history.push('/'))\n    }\n    \n    return(\n        <div className={classes.home} >\n            <CssBaseline />\n            <Appbar handleLogout={handleLogout}/>\n            <Nav />\n            <Listings />\n        </div>\n    )\n}\n\nexport default Home","import React from 'react'\nimport Login from './components/Login'\nimport RestrictedRoute from './components/RestrictedRoute'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport { UserDetailsProvider } from './components/state/UserDetails' \nimport Home from './components/Home'\n\nconst App = () => {\n  return(\n    <React.Fragment>\n      <UserDetailsProvider>\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact component={Login} />\n            <RestrictedRoute path=\"/home\" component={Home} />\n          </Switch>\n        </Router>\n      </UserDetailsProvider>\n    </React.Fragment>\n  )\n}\n \nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}