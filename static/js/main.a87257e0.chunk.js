(this.webpackJsonpfacebookpages=this.webpackJsonpfacebookpages||[]).push([[0],{104:function(e,t,a){},121:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(9),r=a.n(c),l=(a(104),a(16)),i=a(41),s=a.n(i),u=a(81),m=a(82),d=new(function(){function e(){Object(u.a)(this,e),this.authenticated=!1}return Object(m.a)(e,[{key:"login",value:function(e){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"status",value:function(){return this.authenticated}}]),e}()),g=(a(121),a(163)),f=a(160),p=a(66),h=a(86),E=a(34),b=a(36),y=a(27);b.b.add(y.f,y.a,y.c,y.e,y.d,y.b);var v={GET:"get",CHANGE:"change-details",DEL:"delete-details"},k=[{id:"1",icon:o.a.createElement(E.a,{icon:["fab","google-plus-g"]}),source:"Google",name:"ABC Dental",about:"Best Dental",address:"2101 California St",phone:"111.111.1111",mission:"Provide Best Care",rating:"3/5",listed:!0},{id:"2",icon:o.a.createElement(E.a,{icon:["fab","yelp"]}),source:"Yelp",name:"ABC Dental",about:"Best Dental Care",address:"2101 California St",phone:"111.111.1111",mission:"Healthy Thooths",rating:"2/5",listed:!1},{id:"3",icon:o.a.createElement(E.a,{icon:["fab","yahoo"]}),source:"Yahoo!",name:"ABC Dental",about:"Dental in DownTown!",address:"2101 California St",phone:"111.111.1111",mission:"Provide Best Care",rating:"3/5",listed:!0},{id:"4",icon:o.a.createElement(E.a,{icon:["fab","foursquare"]}),source:"Foursqaure",name:"ABC Dental",about:"Its ABC Dental",address:"2101 California St",phone:"111.111.1111",mission:"Healthy Thooths",rating:"3/5",listed:!1}],C=function(e,t){switch(t.type){case v.GET:var a=t.payload.details,n=a.location,c=a.phone,r=a.name,l=a.about,i=a.overall_star_rating,s=a.mission,u=a.access_token,m=a.id,d=Object(h.a)(e).slice(0),g={id:m,access_token:u,icon:o.a.createElement(E.a,{icon:["fab","facebook-f"]}),source:"Facebook",name:r,about:l,address:n.street,phone:c,mission:s,rating:i?"".concat(i,"/5"):"No rating yet",listed:!0};return d.push(g),d;case v.CHANGE:var f=t.payload;l=f.about,c=f.phone,s=f.mission,m=f.id;return e.map((function(e){return e.id===m?Object(p.a)(Object(p.a)({},e),{},{about:l,phone:c,mission:s}):e}));case v.DEL:return d=e.filter((function(e){return e.id<5}));default:return e}},j=Object(n.createContext)(),O=function(e){var t=e.children,a=Object(n.useReducer)(C,k),c=Object(l.a)(a,2),r=c[0],i=c[1];return o.a.createElement(j.Provider,{value:[r,i,v]},t)};b.b.add(y.f,y.a);var w=Object(f.a)((function(e){return{button:{fontSize:"1.5rem",fontWeight:"900"},fbicon:{marginRight:20},login:{backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}}})),x=function(e){var t=Object(n.useContext)(j),a=Object(l.a)(t,3),c=a[1],r=a[2],i=w();Object(n.useEffect)((function(){window.FB.getLoginStatus((function(e){"not_authorized"===e.status&&alert("Try to Login after loging out of other facebook accounts in the browser")}))}),[]);var u=function(e){s.a.get("https://graph.facebook.com/".concat(e.authResponse.userID,"/accounts?access_token=").concat(e.authResponse.accessToken)).then((function(e){e.data.data.forEach((function(e){!function(e){var t=s.a.CancelToken.source();s.a.get("https://graph.facebook.com/".concat(e.id,"?fields=location,phone,name,about,overall_star_rating,mission,access_token&access_token=").concat(e.access_token),{cancelToken:t.token}).then((function(e){c({type:r.GET,payload:{details:e.data}})}))}(e)}))})).catch((function(e){return console.log(e)}))};return o.a.createElement("div",{className:i.login},o.a.createElement(g.a,{variant:"contained",color:"primary",size:"large",className:i.button,onClick:function(){window.FB.login((function(t){"not_authorized"===t.status||"unknown"===t.status?alert("User cancelled login or did not fully authorize!! Try to log out from the browser"):(console.log(t),d.login((function(){e.history.push("/home")})),u(t))}),{scope:"email,pages_manage_cta,pages_show_list,pages_read_engagement,pages_manage_metadata,pages_read_user_content,public_profile"})},startIcon:o.a.createElement(E.a,{className:i.fbicon,icon:["fab","facebook-f"]})},"Login With Facebook"))},_=a(87),S=a(10),N=function(e){var t=e.component,a=Object(_.a)(e,["component"]);return o.a.createElement(S.b,Object.assign({},a,{render:function(e){return d.status()?o.a.createElement(t,e):o.a.createElement(S.a,{to:{pathname:"/",state:{from:e.location}}})}}))},A=a(63),D=a(193),L=a(61),T=a(172),B=a(173),G=a(130),z=a(174),R=a(175),F=a(165),H=a(166),P=a(167),I=a(168),J=a(169),U=a(170),W=a(171),Y=[{icon:o.a.createElement(F.a,null),text:"Dashboard"},{icon:o.a.createElement(H.a,null),text:"Website"},{icon:o.a.createElement(P.a,null),text:"Visitors"},{icon:o.a.createElement(I.a,null),text:"Reviews"},{icon:o.a.createElement(J.a,null),text:"Listings",sel:!0},{icon:o.a.createElement(U.a,null),text:"Appointments"},{icon:o.a.createElement(W.a,null),text:"Settings"}],q=Object(f.a)((function(e){return{drawer:{flexShrink:0,width:270},toolbar:{backgroundColor:"#009688",height:74},drawerPaper:{width:270,backgroundColor:"#33ab9f"},typography:{marginTop:15,color:"white",fontSize:25,letterSpacing:2}}})),V=function(){var e=q();return o.a.createElement("div",null,o.a.createElement(D.a,{variant:"permanent",className:e.drawer,anchor:"left",classes:{paper:e.drawerPaper}},o.a.createElement("div",{className:e.toolbar},o.a.createElement(L.a,{className:e.typography,align:"center",color:"primary",variant:"h6"},"GROWTH PLUG")),o.a.createElement(T.a,null),o.a.createElement(B.a,null,Y.map((function(e){return o.a.createElement(G.a,{button:!0,key:e.text,selected:!!e.sel,style:{color:"white"}},o.a.createElement(z.a,{style:{color:"white"}},e.icon),o.a.createElement(R.a,{primary:e.text}))})))))},M=a(176),K=a(190),Q=a(179),X=a(131),Z=Object(X.a)({app:{backgroundColor:"white",width:"calc(100% - 270px)",marginLeft:"270px",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},form:{marginRight:"70px",padding:"20px"},logout:{marginRight:20}}),$=function(e){var t=e.handleLogout,a=Z();return o.a.createElement(M.a,{position:"fixed",className:a.app},o.a.createElement("div",{className:a.form},o.a.createElement(K.a,{id:"loc",defaultValue:"San Jose, CA"},o.a.createElement(Q.a,{value:"San Jose, CA"},"San Jose, CA"))),o.a.createElement("div",{className:a.logout},o.a.createElement(g.a,{variant:"contained",color:"primary",onClick:t},"Logout")))},ee=a(189),te=a(184),ae=a(129),ne=a(185),oe=a(186),ce=a(187),re=a(180),le=a(188),ie=a(192),se=a(181),ue=a(182),me=a(183),de=function(e){var t=e.listing,a=Object(n.useContext)(j),c=Object(l.a)(a,3),r=c[1],i=c[2],u=Object(n.useState)(!1),m=Object(l.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(t.about),h=Object(l.a)(p,2),E=h[0],b=h[1],y=Object(n.useState)(t.phone),v=Object(l.a)(y,2),k=v[0],C=v[1],O=Object(n.useState)(t.mission),w=Object(l.a)(O,2),x=w[0],_=w[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{align:"center",style:{fontSize:"1.4rem"}},t.icon),o.a.createElement(re.a,{align:"center"},t.source),o.a.createElement(re.a,{align:"center"},t.name),o.a.createElement(re.a,{align:"center"},d?o.a.createElement(ie.a,{name:"about",value:E,onChange:function(e){return b(e.target.value)},color:"secondary"}):t.about),o.a.createElement(re.a,{align:"center"},d?o.a.createElement(ie.a,{name:"mission",value:x,onChange:function(e){return _(e.target.value)},color:"secondary"}):t.mission),o.a.createElement(re.a,{align:"center"},t.address),o.a.createElement(re.a,{align:"center"},d?o.a.createElement(ie.a,{name:"phone",value:k,onChange:function(e){return C(e.target.value)},color:"secondary"}):t.phone),o.a.createElement(re.a,{align:"center"},t.rating),o.a.createElement(re.a,{align:"center"},t.listed?"Yes":"No"),o.a.createElement(re.a,{align:"center"},d?o.a.createElement(se.a,{color:"secondary",style:{fontSize:35},onClick:function(){b(t.name),C(t.phone),f((function(e){return!e}))}}):o.a.createElement(ue.a,{style:{fontSize:35,color:"#4caf50"}})),o.a.createElement(re.a,{align:"center"},d?o.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){f((function(e){return!e})),t.id>4?s.a.post("https://graph.facebook.com/".concat(t.id,"?about=").concat(E,"&phone=").concat(k,"&mission=").concat(x,"&access_token=").concat(t.access_token)).then((function(e){200===e.status?(r({type:i.CHANGE,payload:{about:E,phone:k,mission:x,id:t.id}}),alert("Successfully Updated")):alert("Couldn't Update.. Status : "+e.status)})):r({type:i.CHANGE,payload:{about:E,phone:k,mission:x,id:t.id}})}},"Update"):o.a.createElement(me.a,{color:"primary",onClick:function(){f((function(e){return!e}))}})))},ge=Object(f.a)((function(e){return{toolbar:e.mixins.toolbar,listings:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},table:{minWidth:650},heading:{margin:30,textTransform:"uppercase"}}})),fe=function(){var e=Object(n.useContext)(j),t=Object(l.a)(e,1)[0],a=ge();return o.a.createElement("div",{className:a.listings},o.a.createElement("div",{className:a.toolbar}),o.a.createElement(L.a,{align:"center",variant:"h4",className:a.heading},"Listings"),o.a.createElement(te.a,{component:ae.a},o.a.createElement(ne.a,null,o.a.createElement(oe.a,null,o.a.createElement(ce.a,null,o.a.createElement(re.a,null),o.a.createElement(re.a,{align:"center"},"Source"),o.a.createElement(re.a,{align:"center"},"Name"),o.a.createElement(re.a,{align:"center"},"About"),o.a.createElement(re.a,{align:"center"},"Mission"),o.a.createElement(re.a,{align:"center"},"Address"),o.a.createElement(re.a,{align:"center"},"Phone"),o.a.createElement(re.a,{align:"center"},"Rating"),o.a.createElement(re.a,{align:"center"},"Listed"),o.a.createElement(re.a,{align:"center"},"Status"),o.a.createElement(re.a,{align:"center"},"Action"))),o.a.createElement(le.a,null,t.map((function(e){return o.a.createElement(ce.a,{key:e.id},o.a.createElement(de,{listing:e}))}))))))},pe=Object(f.a)({home:{display:"flex"}}),he=function(e){var t=pe(),a=Object(n.useContext)(j),c=Object(l.a)(a,3),r=c[1],i=c[2];return o.a.createElement("div",{className:t.home},o.a.createElement(ee.a,null),o.a.createElement($,{handleLogout:function(){window.FB.logout((function(e){console.log(e)})),r({type:i.DEL}),d.logout((function(){return e.history.push("/")}))}}),o.a.createElement(V,null),o.a.createElement(fe,null))},Ee=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(O,null,o.a.createElement(A.a,null,o.a.createElement(S.d,null,o.a.createElement(S.b,{path:"/",exact:!0,component:x}),o.a.createElement(N,{path:"/home",component:he})))))};r.a.render(o.a.createElement(Ee,null),document.getElementById("root"))},99:function(e,t,a){e.exports=a(128)}},[[99,1,2]]]);
//# sourceMappingURL=main.a87257e0.chunk.js.map