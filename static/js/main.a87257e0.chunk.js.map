{"version":3,"sources":["components/Auth.js","components/state/UserDetails.js","components/Login.js","components/RestrictedRoute.js","components/home/Nav.js","components/home/Appbar.js","components/home/Row.js","components/home/Listings.js","components/Home.js","App.js","index.js"],"names":["this","authenticated","callback","library","add","fab","faFacebook","faGooglePlus","faYelp","faYahoo","faFoursquare","ACTIONS","GET","CHANGE","DEL","initialState","id","icon","source","name","about","address","phone","mission","rating","listed","reducer","listings","action","type","payload","details","location","overall_star_rating","access_token","newList","pageInfo","street","push","map","each","filter","facebookContext","createContext","UserDetailsProvider","children","useReducer","dispatch","Provider","value","useStyles","makeStyles","theme","button","fontSize","fontWeight","fbicon","marginRight","login","backgroundColor","display","alignItems","justifyContent","height","Login","props","useContext","classes","useEffect","window","FB","getLoginStatus","response","status","alert","getPageInfo","axios","get","authResponse","userID","accessToken","then","res","data","forEach","page","cancelToken","CancelToken","token","getEachPageInfo","catch","e","console","log","className","Button","variant","color","size","onClick","Auth","history","scope","startIcon","RestrictedRoute","Component","component","rest","render","to","pathname","state","from","navItems","text","Web","Mouse","Star","sel","EventAvailable","Settings","drawer","flexShrink","width","toolbar","drawerPaper","typography","marginTop","letterSpacing","Nav","Drawer","anchor","paper","Typography","align","Divider","List","item","ListItem","key","selected","style","ListItemIcon","ListItemText","primary","app","marginLeft","flexDirection","form","padding","logout","Appbar","handleLogout","AppBar","position","Select","defaultValue","MenuItem","Row","listing","useState","edit","setEdit","setAbout","setPhone","setMission","Fragment","TableCell","TextField","onChange","target","Close","prev","Done","post","Edit","mixins","flexGrow","palette","background","default","spacing","table","minWidth","heading","margin","textTransform","Listings","TableContainer","Paper","Table","TableHead","TableRow","TableBody","row","home","Home","CssBaseline","App","path","exact","ReactDOM","document","getElementById"],"mappings":"yPAyBe,M,WApBX,aAAc,oBACVA,KAAKC,eAAgB,E,kDAGnBC,GACFF,KAAKC,eAAgB,EACrBC,M,6BAGGA,GACHF,KAAKC,eAAgB,EACrBC,M,+BAIA,OAAOF,KAAKC,kB,yECfpBE,IAAQC,IAAIC,IAAIC,IAAWC,IAAaC,IAAQC,IAASC,KAGzD,IAAMC,EAAU,CACZC,IAAM,MACNC,OAAS,iBACTC,IAAM,kBAIJC,EAAe,CACjB,CACIC,GAAK,IACLC,KAAO,kBAAC,IAAD,CAAiBA,KAAM,CAAC,MAAM,mBACrCC,OAAS,SACTC,KAAO,aACPC,MAAQ,cACRC,QAAU,qBACVC,MAAQ,eACRC,QAAU,oBACVC,OAAS,MACTC,QAAS,GAEb,CACIT,GAAK,IACLC,KAAO,kBAAC,IAAD,CAAiBA,KAAM,CAAC,MAAM,UACrCC,OAAS,OACTC,KAAO,aACPC,MAAQ,mBACRC,QAAU,qBACVC,MAAQ,eACRC,QAAU,kBACVC,OAAS,MACTC,QAAS,GAEb,CACIT,GAAK,IACLC,KAAQ,kBAAC,IAAD,CAAiBA,KAAM,CAAC,MAAM,WACtCC,OAAS,SACTC,KAAO,aACPC,MAAQ,sBACRC,QAAU,qBACVC,MAAQ,eACRC,QAAU,oBACVC,OAAS,MACTC,QAAS,GAEb,CACIT,GAAK,IACLC,KAAO,kBAAC,IAAD,CAAiBA,KAAM,CAAC,MAAM,gBACrCC,OAAS,aACTC,KAAO,aACPC,MAAQ,iBACRC,QAAU,qBACVC,MAAQ,eACRC,QAAU,kBACVC,OAAS,MACTC,QAAS,IAKXC,EAAU,SAACC,EAAUC,GACvB,OAAQA,EAAOC,MAEX,KAAKlB,EAAQC,IAAb,MACyFgB,EAAOE,QAAQC,QAA/FC,EADT,EACSA,SAAUV,EADnB,EACmBA,MAAOH,EAD1B,EAC0BA,KAAMC,EADhC,EACgCA,MAAOa,EADvC,EACuCA,oBAAqBV,EAD5D,EAC4DA,QAASW,EADrE,EACqEA,aAAclB,EADnF,EACmFA,GACvEmB,EAFZ,YAEuBR,GAFvB,SAGUS,EAAW,CACbpB,GAAKA,EACLkB,aAAeA,EACfjB,KAAO,kBAAC,IAAD,CAAiBA,KAAM,CAAC,MAAM,gBACrCC,OAAS,WACTC,KAAOA,EACPC,MAAQA,EACRC,QAAUW,EAASK,OACnBf,MAAQA,EACRC,QAAUA,EACVC,OAASS,EAAmB,UAAMA,EAAN,MAAgC,gBAC5DR,QAAS,GAIb,OAFAU,EAAQG,KAAKF,GAEND,EAGX,KAAKxB,EAAQE,OAAb,MACsCe,EAAOE,QAApCV,EADT,EACSA,MAAOE,EADhB,EACgBA,MAAOC,EADvB,EACuBA,QAASP,EADhC,EACgCA,GAO5B,OANgBW,EAASY,KAAI,SAAAC,GACzB,OAAGA,EAAKxB,KAAOA,EACJ,2BAAIwB,GAAX,IAAgBpB,MAAMA,EAAME,MAAMA,EAAMC,QAAQA,IAE7CiB,KAIf,KAAK7B,EAAQG,IAET,OADIqB,EAAUR,EAASc,QAAO,SAAAD,GAAI,OAAIA,EAAKxB,GAAK,KAGpD,QAAU,OAAOW,IAKZe,EAAkBC,0BAElBC,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACpBC,qBAAWpB,EAASX,GADA,mBAC1CY,EAD0C,KAChCoB,EADgC,KAGjD,OACI,kBAACL,EAAgBM,SAAjB,CAA0BC,MAAO,CAACtB,EAAUoB,EAAUpC,IACjDkC,IC1Gb1C,IAAQC,IAAIC,IAAIC,KAEhB,IAAM4C,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,OAAQ,CACNC,SAAW,SACXC,WAAa,OAEfC,OAAS,CACLC,YAAc,IAElBC,MAAQ,CACJC,gBAAgB,QAChBC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,OAAQ,aA0EDC,EAlED,SAACC,GAAW,IAAD,EACWC,qBAAWxB,GADtB,mBACXK,EADW,KACDpC,EADC,KAEfwD,EAAUjB,IAEhBkB,qBAAU,WACNC,OAAOC,GAAGC,gBAAe,SAASC,GACP,mBAApBA,EAASC,QAA6BC,MAAM,gFAErD,IAIF,IAaMC,EAAc,SAACH,GACjBI,IAAMC,IAAN,qCAAwCL,EAASM,aAAaC,OAA9D,kCAA8FP,EAASM,aAAaE,cACnHC,MAAK,SAAAC,GACFA,EAAIC,KAAKA,KAAKC,SAAQ,SAAAC,IAhBN,SAAAA,GACpB,IAAMC,EAAcV,IAAMW,YAAYrE,SACtC0D,IAAMC,IAAN,qCAAwCQ,EAAKrE,GAA7C,mGAA0IqE,EAAKnD,cAC/I,CAACoD,YAAYA,EAAYE,QACxBP,MAAK,SAAAT,GACFzB,EAAS,CAAClB,KAAOlB,EAAQC,IAAKkB,QAAU,CAACC,QAAUyC,EAASW,WAYzDM,CAAgBJ,SAGtBK,OAAM,SAAAC,GAAC,OAAIC,QAAQC,IAAIF,OAkB5B,OACI,yBAAKG,UAAW3B,EAAQT,OACpB,kBAACqC,EAAA,EAAD,CACAC,QAAQ,YACRC,MAAM,UACNC,KAAK,QACLJ,UAAW3B,EAAQd,OACnB8C,QApBY,WAChB9B,OAAOC,GAAGZ,OAAM,SAASc,GACE,mBAApBA,EAASC,QAAmD,YAApBD,EAASC,OAAsBC,MAAM,sFAE5EkB,QAAQC,IAAIrB,GACZ4B,EAAK1C,OAAM,WACPO,EAAMoC,QAAQ/D,KAAK,YAEvBqC,EAAYH,MAElB,CAAC8B,MAjDG,+HA4DFC,UAAW,kBAAC,IAAD,CAAiBT,UAAW3B,EAAQX,OAAQvC,KAAM,CAAC,MAAM,iBANpE,yB,gBCxDGuF,EAxBS,SAAC,GAAsC,IAAzBC,EAAwB,EAApCC,UAA0BC,EAAU,6BAC1D,OACI,kBAAC,IAAD,iBAAWA,EAAX,CACIC,OAAQ,SAAA3C,GACJ,OAAGmC,EAAK3B,SACG,kBAACgC,EAAcxC,GAIlB,kBAAC,IAAD,CACI4C,GAAI,CACAC,SAAS,IACTC,MAAO,CACHC,KAAO/C,EAAMjC,kB,qICZ3CiF,EAAW,CACb,CACIhG,KAAO,kBAAC,IAAD,MACPiG,KAAO,aAEX,CACIjG,KAAO,kBAACkG,EAAA,EAAD,MACPD,KAAO,WAEX,CACIjG,KAAO,kBAACmG,EAAA,EAAD,MACPF,KAAO,YAEX,CACIjG,KAAO,kBAACoG,EAAA,EAAD,MACPH,KAAO,WAEX,CACIjG,KAAO,kBAAC,IAAD,MACPiG,KAAO,WACPI,KAAM,GAEV,CACIrG,KAAO,kBAACsG,EAAA,EAAD,MACPL,KAAO,gBAEX,CACIjG,KAAO,kBAACuG,EAAA,EAAD,MACPN,KAAO,aAIThE,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqE,OAAS,CACLC,WAAa,EACbC,MAAQ,KAEZC,QAAU,CACNjE,gBAAkB,UAClBI,OAAS,IAEb8D,YAAa,CACTF,MAAO,IACPhE,gBAAkB,WAEtBmE,WAAa,CACTC,UAAY,GACZ9B,MAAQ,QACR3C,SAAW,GACX0E,cAAgB,OA2CTC,EAtCH,WACR,IAAM9D,EAAUjB,IAEhB,OACG,6BACI,kBAACgF,EAAA,EAAD,CACClC,QAAQ,YACRF,UAAW3B,EAAQsD,OACnBU,OAAO,OACPhE,QAAS,CAACiE,MAAOjE,EAAQ0D,cAErB,yBAAK/B,UAAW3B,EAAQyD,SACpB,kBAACS,EAAA,EAAD,CACIvC,UAAW3B,EAAQ2D,WACnBQ,MAAM,SACNrC,MAAM,UACND,QAAQ,MAJZ,gBAQJ,kBAACuC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACKvB,EAAS1E,KAAI,SAAAkG,GAAI,OACd,kBAACC,EAAA,EAAD,CACIrF,QAAM,EAACsF,IAAKF,EAAKvB,KACjB0B,WAAUH,EAAKnB,IACfuB,MAAO,CAAE5C,MAAQ,UAEjB,kBAAC6C,EAAA,EAAD,CAAcD,MAAO,CAAE5C,MAAQ,UAAWwC,EAAKxH,MAC/C,kBAAC8H,EAAA,EAAD,CAAcC,QAASP,EAAKvB,e,oCCpFlDhE,EAAYC,YAAW,CACzB8F,IAAM,CACFtF,gBAAkB,QAClBgE,MAAQ,qBACRuB,WAAa,QACbtF,QAAU,OACVuF,cAAgB,MAChBrF,eAAiB,WACjBD,WAAa,UAEjBuF,KAAO,CACH3F,YAAc,OACd4F,QAAU,QAEdC,OAAQ,CACJ7F,YAAc,MAsBP8F,EAjBA,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,aACPrF,EAAUjB,IAEhB,OACI,kBAACuG,EAAA,EAAD,CAAQC,SAAS,QAAQ5D,UAAW3B,EAAQ8E,KACxC,yBAAKnD,UAAW3B,EAAQiF,MACpB,kBAACO,EAAA,EAAD,CAAQ3I,GAAG,MAAM4I,aAAa,gBAC1B,kBAACC,EAAA,EAAD,CAAU5G,MAAM,gBAAhB,kBAGR,yBAAK6C,UAAW3B,EAAQmF,QACpB,kBAACvD,EAAA,EAAD,CAAQC,QAAQ,YAAYC,MAAM,UAAUE,QAASqD,GAArD,a,wHCqFDM,GAlHH,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAAc,EACM7F,qBAAWxB,GADjB,mBAChBK,EADgB,KACNpC,EADM,OAECqJ,oBAAS,GAFV,mBAEjBC,EAFiB,KAEXC,EAFW,OAGGF,mBAASD,EAAQ3I,OAHpB,mBAGjBA,EAHiB,KAGV+I,EAHU,OAIGH,mBAASD,EAAQzI,OAJpB,mBAIjBA,EAJiB,KAIV8I,EAJU,OAKOJ,mBAASD,EAAQxI,SALxB,mBAKjBA,EALiB,KAKR8I,EALQ,KAqCzB,OACI,kBAAC,IAAMC,SAAP,KAEI,kBAACC,GAAA,EAAD,CAAWjC,MAAM,SAASO,MAAO,CAACvF,SAAW,WACxCyG,EAAQ9I,MAGb,kBAACsJ,GAAA,EAAD,CAAWjC,MAAM,UAAUyB,EAAQ7I,QAEnC,kBAACqJ,GAAA,EAAD,CAAWjC,MAAM,UAAUyB,EAAQ5I,MAEnC,kBAACoJ,GAAA,EAAD,CAAWjC,MAAM,UACZ2B,EACG,kBAACO,GAAA,EAAD,CACIrJ,KAAK,QACL8B,MAAO7B,EACPqJ,SAAU,SAAA9E,GAAC,OAAIwE,EAASxE,EAAE+E,OAAOzH,QACjCgD,MAAM,cAEV8D,EAAQ3I,OAGhB,kBAACmJ,GAAA,EAAD,CAAWjC,MAAM,UACZ2B,EACG,kBAACO,GAAA,EAAD,CACIrJ,KAAK,UACL8B,MAAO1B,EACPkJ,SAAU,SAAA9E,GAAC,OAAI0E,EAAW1E,EAAE+E,OAAOzH,QACnCgD,MAAM,cAEV8D,EAAQxI,SAGhB,kBAACgJ,GAAA,EAAD,CAAWjC,MAAM,UAAUyB,EAAQ1I,SAEnC,kBAACkJ,GAAA,EAAD,CAAWjC,MAAM,UACZ2B,EACG,kBAACO,GAAA,EAAD,CACIrJ,KAAK,QACL8B,MAAO3B,EACPmJ,SAAU,SAAA9E,GAAC,OAAIyE,EAASzE,EAAE+E,OAAOzH,QACjCgD,MAAM,cAEV8D,EAAQzI,OAGhB,kBAACiJ,GAAA,EAAD,CAAWjC,MAAM,UAAUyB,EAAQvI,QAEnC,kBAAC+I,GAAA,EAAD,CAAWjC,MAAM,UAAUyB,EAAQtI,OAAS,MAAO,MAEnD,kBAAC8I,GAAA,EAAD,CAAWjC,MAAM,UACZ2B,EACG,kBAACU,GAAA,EAAD,CACI1E,MAAM,YACN4C,MAAO,CAACvF,SAAW,IACnB6C,QA9DC,WACjBgE,EAASJ,EAAQ5I,MACjBiJ,EAASL,EAAQzI,OAEjB4I,GAAQ,SAAAU,GAAI,OAAKA,QA4DL,kBAACC,GAAA,EAAD,CAAMhC,MAAO,CAACvF,SAAW,GAAG2C,MAAO,cAI3C,kBAACsE,GAAA,EAAD,CAAWjC,MAAM,UACZ2B,EACG,kBAAClE,EAAA,EAAD,CACIC,QAAQ,YACRC,MAAM,UACNE,QA/FC,WACjB+D,GAAQ,SAAAU,GAAI,OAAKA,KACdb,EAAQ/I,GAAK,EACZ4D,IAAMkG,KAAN,qCAAyCf,EAAQ/I,GAAjD,kBAA6DI,EAA7D,kBAA4EE,EAA5E,oBAA6FC,EAA7F,yBAAqHwI,EAAQ7H,eAC5H+C,MAAK,SAAAT,GACqB,MAApBA,EAASC,QACR1B,EAAS,CAAClB,KAAMlB,EAAQE,OAAQiB,QAAQ,CAACV,MAAQA,EAAOE,MAAQA,EAAOC,QAAUA,EAAUP,GAAK+I,EAAQ/I,MACxG0D,MAAM,yBAELA,MAAM,8BAA8BF,EAASC,WAGrD1B,EAAS,CAAClB,KAAMlB,EAAQE,OAAQiB,QAAQ,CAACV,MAAQA,EAAOE,MAAQA,EAAOC,QAAUA,EAAUP,GAAK+I,EAAQ/I,QAgFjG,UAOA,kBAAC+J,GAAA,EAAD,CAAM9E,MAAM,UAAUE,QAlFnB,WACf+D,GAAQ,SAAAU,GAAI,OAAKA,WC3BnB1H,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCwE,QAASxE,EAAM4H,OAAOpD,QACtBjG,SAAW,CACPsJ,SAAU,EACVtH,gBAAiBP,EAAM8H,QAAQC,WAAWC,QAC1C/B,QAASjG,EAAMiI,QAAQ,IAE3BC,MAAQ,CACJC,SAAW,KAEfC,QAAU,CACNC,OAAS,GACTC,cAAgB,iBA+CTC,GA3CE,WAAO,IAAD,EACAzH,qBAAWxB,GAAvBf,EADY,oBAEbwC,EAAUjB,KAChB,OACI,yBAAK4C,UAAW3B,EAAQxC,UACpB,yBAAKmE,UAAW3B,EAAQyD,UACxB,kBAACS,EAAA,EAAD,CACIC,MAAM,SACNtC,QAAQ,KACRF,UAAW3B,EAAQqH,SAHvB,YAOA,kBAACI,GAAA,EAAD,CAAgBlF,UAAWmF,MACvB,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAACzB,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,CAAWjC,MAAM,UAAjB,UACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,QACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,SACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,WACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,WACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,SACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,UACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,UACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,UACA,kBAACiC,GAAA,EAAD,CAAWjC,MAAM,UAAjB,YAGR,kBAAC2D,GAAA,EAAD,KACKtK,EAASY,KAAI,SAAA2J,GAAG,OACb,kBAACF,GAAA,EAAD,CAAUrD,IAAKuD,EAAIlL,IACf,kBAAC,GAAD,CAAK+I,QAASmC,aC/CxChJ,GAAYC,YAAW,CACzBgJ,KAAO,CACHvI,QAAU,UA2BHwI,GAvBF,SAACnI,GACV,IAAME,EAAUjB,KADI,EAEUgB,qBAAWxB,GAFrB,mBAEXK,EAFW,KAEDpC,EAFC,KAapB,OACI,yBAAKmF,UAAW3B,EAAQgI,MACpB,kBAACE,GAAA,EAAD,MACA,kBAAC,EAAD,CAAQ7C,aAXK,WACjBnF,OAAOC,GAAGgF,QAAO,SAAS9E,GACtBoB,QAAQC,IAAIrB,MAEhBzB,EAAS,CAAClB,KAAOlB,EAAQG,MACzBsF,EAAKkD,QAAO,kBAAMrF,EAAMoC,QAAQ/D,KAAK,WAOjC,kBAAC,EAAD,MACA,kBAAC,GAAD,QCXGgK,GAfH,WACV,OACE,kBAAC,IAAMhC,SAAP,KACE,kBAAC,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOiC,KAAK,IAAIC,OAAK,EAAC9F,UAAW1C,IACjC,kBAAC,EAAD,CAAiBuI,KAAK,QAAQ7F,UAAW0F,UCTrDK,IAAS7F,OACL,kBAAC,GAAD,MACF8F,SAASC,eAAe,U","file":"static/js/main.a87257e0.chunk.js","sourcesContent":["//  For handling Authentication. Callback function pushes path to props.history. \n// (When logout pushes '/' to history and \n// so can't simply redirect to dashboard without login)\n\nclass Auth {\n    constructor(){\n        this.authenticated = false\n    }\n    \n    login(callback){\n        this.authenticated = true\n        callback()\n    }\n    \n    logout(callback){\n        this.authenticated = false\n        callback()\n    }\n\n    status(){\n        return this.authenticated\n    }\n}\n\n\nexport default new Auth()","import React, { useReducer, createContext } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab, faFacebook, faGooglePlus, faYelp, faYahoo, faFoursquare } from '@fortawesome/free-brands-svg-icons'\n\nlibrary.add(fab,faFacebook,faGooglePlus,faYelp, faYahoo, faFoursquare)\n\n//  ACTIONS\nconst ACTIONS = {\n    GET : 'get',\n    CHANGE : 'change-details',\n    DEL : 'delete-details'\n}\n\n//  Initial State\nconst initialState = [\n    {\n        id : \"1\",\n        icon : <FontAwesomeIcon icon={['fab','google-plus-g']} />,\n        source : \"Google\",\n        name : \"ABC Dental\",\n        about : \"Best Dental\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        mission : 'Provide Best Care',\n        rating : \"3/5\",\n        listed : true,\n    },\n    {\n        id : \"2\",\n        icon : <FontAwesomeIcon icon={['fab','yelp']} />,\n        source : \"Yelp\",\n        name : \"ABC Dental\",\n        about : \"Best Dental Care\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        mission : 'Healthy Thooths',\n        rating : \"2/5\",\n        listed : false,\n    },\n    {\n        id : \"3\",\n        icon :  <FontAwesomeIcon icon={['fab','yahoo']} />,\n        source : \"Yahoo!\",\n        name : \"ABC Dental\",\n        about : \"Dental in DownTown!\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        mission : 'Provide Best Care',\n        rating : \"3/5\",\n        listed : true,\n    },\n    {\n        id : \"4\",\n        icon : <FontAwesomeIcon icon={['fab','foursquare']} />,\n        source : \"Foursqaure\",\n        name : \"ABC Dental\",\n        about : \"Its ABC Dental\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        mission : 'Healthy Thooths',\n        rating : \"3/5\",\n        listed : false,\n    }\n]\n\n// REDUCER function (GET and UPDATE)\nconst reducer = (listings, action) => {\n    switch (action.type) {\n        // GET When login state is updated by fetching info from user's page\n        case ACTIONS.GET : \n            var {location, phone, name, about, overall_star_rating, mission, access_token, id} = action.payload.details\n            var [...newList] = listings\n            const pageInfo = {\n                id : id,\n                access_token : access_token,\n                icon : <FontAwesomeIcon icon={['fab','facebook-f']} />,\n                source : \"Facebook\",\n                name : name,\n                about : about,\n                address : location.street,\n                phone : phone,\n                mission : mission,\n                rating : overall_star_rating ? `${overall_star_rating}/5` : 'No rating yet',\n                listed : true\n            }\n            newList.push(pageInfo)\n                \n            return newList\n\n        // UPDATE When the Update button is clicked and state is updated. Update on facebook page is done at Row Component\n        case ACTIONS.CHANGE :\n            var {about, phone, mission, id} = action.payload\n            const tmpList = listings.map(each => {\n                if(each.id === id) {\n                    return {...each,about:about,phone:phone,mission:mission}\n                }\n                return each\n            })\n            return tmpList\n\n        case ACTIONS.DEL : \n            var newList = listings.filter(each => each.id < 5)\n            return newList\n            \n        default : return listings\n    }\n}\n\n// State is available for all the components\nexport const facebookContext = createContext()\n\nexport const UserDetailsProvider = ({ children }) => {\n    const [listings, dispatch] = useReducer(reducer, initialState) \n \n    return(\n        <facebookContext.Provider value={[listings, dispatch, ACTIONS]}>\n            {children}\n        </facebookContext.Provider> \n    )\n}\n","import React, { useContext, useEffect } from 'react'\nimport axios from 'axios'\nimport Auth from './Auth'\nimport '../App.css'\nimport { Button, Icon } from '@material-ui/core' \nimport { makeStyles } from '@material-ui/core/styles'\nimport { facebookContext } from './state/UserDetails'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab, faFacebook } from '@fortawesome/free-brands-svg-icons'\n\nlibrary.add(fab,faFacebook)\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n      fontSize : '1.5rem',\n      fontWeight : '900'\n    },\n    fbicon : {\n        marginRight : 20,\n    },\n    login : {\n        backgroundColor:\"black\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100vh\"\n    }\n  }));\n\n//  The permissions to be allowed by user\n\nconst scope = \"email,pages_manage_cta,pages_show_list,pages_read_engagement,pages_manage_metadata,pages_read_user_content,public_profile\"\n\nconst Login = (props) => {\n    const [ , dispatch, ACTIONS ] = useContext(facebookContext)\n    const classes = useStyles();\n\n    useEffect(() => {\n        window.FB.getLoginStatus(function(response){\n            if(response.status === 'not_authorized') alert('Try to Login after loging out of other facebook accounts in the browser')\n        })\n    },[])   \n\n    // Get info of each page (location, phone, name, about, rating, mission, acces_token, id)\n\n    const getEachPageInfo = page => {\n        const cancelToken = axios.CancelToken.source()\n        axios.get(`https://graph.facebook.com/${page.id}?fields=location,phone,name,about,overall_star_rating,mission,access_token&access_token=${page.access_token}`,\n        {cancelToken:cancelToken.token})\n        .then(response => {\n            dispatch({type : ACTIONS.GET, payload : {details : response.data}})\n        })\n        return () => cancelToken.cancel()\n        \n    }\n\n    // Get the info of pages handled by user\n\n    const getPageInfo = (response) => {\n        axios.get(`https://graph.facebook.com/${response.authResponse.userID}/accounts?access_token=${response.authResponse.accessToken}`)\n        .then(res => {\n            res.data.data.forEach(page => {\n               getEachPageInfo(page)\n            })\n        })\n        .catch(e => console.log(e))\n    }\n\n    // Loads the users information is authorised.\n\n    const handleLogin = () => {\n        window.FB.login(function(response){\n            if(response.status === 'not_authorized' || response.status === 'unknown') alert('User cancelled login or did not fully authorize!! Try to log out from the browser')\n            else{\n                console.log(response)\n                Auth.login(() => {\n                    props.history.push('/home')\n                })\n                getPageInfo(response)\n            }\n        },{scope : scope})\n    }\n        \n    return(\n        <div className={classes.login}>\n            <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            className={classes.button}\n            onClick={handleLogin}\n            startIcon={<FontAwesomeIcon className={classes.fbicon} icon={['fab','facebook-f']} />}\n      >\n        Login With Facebook\n      </Button>\n        </div>\n    )    \n}\n\nexport default Login","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport Auth from './Auth'\n\n//  Implemented to allow only authorised users to access the listings page so that if not authenticted it wont show listing page\n\nconst RestrictedRoute = ({component : Component, ...rest}) => {\n    return(\n        <Route {...rest} \n            render={props => {\n                if(Auth.status()) {\n                    return <Component {...props} />\n                }\n                else{\n                    return(\n                        <Redirect\n                            to={{\n                                pathname:'/',\n                                state: {\n                                    from : props.location\n                                }\n                            }}\n                        />\n                    )\n                }\n            }}\n        />\n    )\n}\n\nexport default RestrictedRoute","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Drawer, List, Typography, Divider, ListItem, ListItemText, ListItemIcon } from '@material-ui/core'\nimport { Home, Web, Mouse, Star, List as ListIcon, EventAvailable, Settings } from '@material-ui/icons'\n\n//  Default nav items and default set to Listings and others are invalid\n\nconst navItems = [\n    {\n        icon : <Home />,\n        text : \"Dashboard\"\n    },\n    {\n        icon : <Web />,\n        text : \"Website\"\n    },\n    {\n        icon : <Mouse />,\n        text : \"Visitors\"\n    },\n    {\n        icon : <Star />,\n        text : \"Reviews\"\n    },\n    {\n        icon : <ListIcon />,\n        text : \"Listings\",\n        sel : true\n    },\n    {\n        icon : <EventAvailable />,\n        text : \"Appointments\"\n    },\n    {\n        icon : <Settings />,\n        text : \"Settings\"\n    }\n]\n\nconst useStyles = makeStyles(theme => ({\n    drawer : {\n        flexShrink : 0,\n        width : 270,\n    },\n    toolbar : {\n        backgroundColor : '#009688',\n        height : 74\n    },\n    drawerPaper: {\n        width: 270,\n        backgroundColor : '#33ab9f'\n      },\n    typography : {\n        marginTop : 15,\n        color : 'white',\n        fontSize : 25,\n        letterSpacing : 2,\n    }\n\n}))\n\nconst Nav = () => {\n    const classes = useStyles()\n\n    return(\n       <div>\n           <Drawer\n            variant='permanent'\n            className={classes.drawer}\n            anchor=\"left\"\n            classes={{paper: classes.drawerPaper}}\n           >\n                <div className={classes.toolbar}>\n                    <Typography \n                        className={classes.typography} \n                        align=\"center\" \n                        color=\"primary\" \n                        variant=\"h6\">\n                            GROWTH PLUG\n                    </Typography>\n                </div>\n                <Divider />\n                <List>\n                    {navItems.map(item => (\n                        <ListItem \n                            button key={item.text} \n                            selected={item.sel ? true : false} \n                            style={{ color : 'white'}}\n                        >\n                            <ListItemIcon style={{ color : 'white'}}>{item.icon}</ListItemIcon>\n                            <ListItemText primary={item.text}/>\n                        </ListItem>\n                    ))}\n                </List>\n           </Drawer>\n       </div>\n    )\n}\n\nexport default Nav ","import React from 'react'\nimport { AppBar, Select, MenuItem, Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\n\n\n\nconst useStyles = makeStyles({\n    app : {\n        backgroundColor : 'white',\n        width : 'calc(100% - 270px)',\n        marginLeft : '270px',\n        display : 'flex',\n        flexDirection : 'row',\n        justifyContent : 'flex-end',\n        alignItems : 'center'\n    },\n    form : {\n        marginRight : '70px',\n        padding : '20px'\n    },\n    logout: {\n        marginRight : 20,\n    }\n\n})\n\nconst Appbar = ({handleLogout}) => {\n    const classes = useStyles()\n\n    return(\n        <AppBar position=\"fixed\" className={classes.app}>\n            <div className={classes.form}>\n                <Select id=\"loc\" defaultValue=\"San Jose, CA\">\n                    <MenuItem value=\"San Jose, CA\">San Jose, CA</MenuItem>\n                </Select>\n            </div>\n            <div className={classes.logout}>\n                <Button variant=\"contained\" color=\"primary\" onClick={handleLogout}>Logout</Button>\n            </div>\n        </AppBar>\n    )\n}\n\nexport default Appbar\n","import React, { useState, useContext } from 'react'\nimport { facebookContext } from '../state/UserDetails'\nimport { TableCell, TextField, Button } from '@material-ui/core'\nimport { Edit, Close, Done } from '@material-ui/icons'\nimport axios from 'axios'\n\n//  Component for each row of table.\n\nconst Row = ({ listing }) => {\n    const [ ,dispatch, ACTIONS ] = useContext(facebookContext)\n    const [ edit, setEdit ] = useState(false)\n    const [ about ,setAbout ] = useState(listing.about)\n    const [ phone, setPhone ] = useState(listing.phone)\n    const [ mission, setMission ] = useState(listing.mission)\n    \n    // Handle the update (about, phone and mission are updatable fields)\n    const handleUpdate = () => {\n        setEdit(prev => !prev)\n        if(listing.id > 4) {\n            axios.post(`https://graph.facebook.com/${listing.id}?about=${about}&phone=${phone}&mission=${mission}&access_token=${listing.access_token}`)\n            .then(response => {\n                if(response.status === 200) {\n                    dispatch({type: ACTIONS.CHANGE, payload:{about : about, phone : phone, mission : mission,  id : listing.id}})\n                    alert('Successfully Updated')\n                }\n                else alert(\"Couldn't Update.. Status : \"+response.status)\n            })\n        }\n        else dispatch({type: ACTIONS.CHANGE, payload:{about : about, phone : phone, mission : mission,  id : listing.id}})\n        \n    }\n    \n    //  When Edit icon is clicked, edit state changes to true\n    const handleEdit = () => {\n        setEdit(prev => !prev)\n    }\n    \n    //  To cancel the edit. The cross symbol\n    const handleCancel = () => {\n        setAbout(listing.name)\n        setPhone(listing.phone)\n        // edit state changes to false\n        setEdit(prev => !prev)\n    }\n\n    return(\n        <React.Fragment>\n            {/* ICON  */}\n            <TableCell align=\"center\" style={{fontSize : '1.4rem'}}>\n                {listing.icon}\n            </TableCell>\n            {/* SOURCE */}\n            <TableCell align=\"center\">{listing.source}</TableCell>\n            {/* NAME */}\n            <TableCell align=\"center\">{listing.name}</TableCell>\n            {/* ABOUT. Editable */}\n            <TableCell align=\"center\">\n                {edit ? \n                    <TextField \n                        name='about' \n                        value={about} \n                        onChange={e => setAbout(e.target.value)} \n                        color='secondary'\n                    /> : \n                    listing.about}\n            </TableCell>\n            {/* MISSION. Editable */}\n            <TableCell align=\"center\">\n                {edit ? \n                    <TextField \n                        name='mission' \n                        value={mission} \n                        onChange={e => setMission(e.target.value)} \n                        color='secondary'\n                    /> : \n                    listing.mission}\n            </TableCell>\n            {/* ADDRESS */}\n            <TableCell align=\"center\">{listing.address}</TableCell>\n            {/* PHONE. Editable */}\n            <TableCell align=\"center\">\n                {edit ? \n                    <TextField \n                        name='phone' \n                        value={phone} \n                        onChange={e => setPhone(e.target.value)} \n                        color='secondary'\n                    /> : \n                    listing.phone}\n            </TableCell>\n            {/* RATING */}\n            <TableCell align=\"center\">{listing.rating}</TableCell>\n            {/* LISTED */}\n            <TableCell align=\"center\">{listing.listed ? 'Yes': 'No'}</TableCell>\n            {/* STATUS. Can cancle the edit on cross icon */}\n            <TableCell align=\"center\">\n                {edit ?\n                    <Close \n                        color=\"secondary\" \n                        style={{fontSize : 35}} \n                        onClick={handleCancel} \n                    /> :\n                    <Done style={{fontSize : 35,color: \"#4caf50\" }} />        \n                }\n            </TableCell>\n            {/* UPDATE. Update editable fields on click */}\n            <TableCell align=\"center\">\n                {edit ? \n                    <Button \n                        variant=\"contained\" \n                        color=\"primary\" \n                        onClick={handleUpdate}\n                    >\n                        Update\n                    </Button> :\n                    <Edit color=\"primary\" onClick={handleEdit} />\n                }\n            </TableCell>\n    </React.Fragment>\n    )\n}\n\nexport default Row","import React, { useContext } from 'react'\nimport { makeStyles, Typography, Table, TableBody, TableContainer, TableRow, TableCell, TableHead, Paper } from '@material-ui/core'\nimport { facebookContext } from '../state/UserDetails'\nimport Row from './Row'\n\n//    The Listings Table ..\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: theme.mixins.toolbar,\n    listings : {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.default,\n        padding: theme.spacing(3)\n    },\n    table : {\n        minWidth : 650\n    },\n    heading : {\n        margin : 30,\n        textTransform : \"uppercase\"\n    }\n}))\n\nconst Listings = () => {\n    const [listings] = useContext(facebookContext)\n    const classes = useStyles()\n    return(\n        <div className={classes.listings}>\n            <div className={classes.toolbar} />\n            <Typography \n                align=\"center\" \n                variant=\"h4\" \n                className={classes.heading}\n            >\n                Listings\n            </Typography>\n            <TableContainer component={Paper}>\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell></TableCell>\n                            <TableCell align=\"center\">Source</TableCell>\n                            <TableCell align=\"center\">Name</TableCell>\n                            <TableCell align=\"center\">About</TableCell>\n                            <TableCell align=\"center\">Mission</TableCell>\n                            <TableCell align=\"center\">Address</TableCell>\n                            <TableCell align=\"center\">Phone</TableCell>\n                            <TableCell align=\"center\">Rating</TableCell>\n                            <TableCell align=\"center\">Listed</TableCell>\n                            <TableCell align=\"center\">Status</TableCell>\n                            <TableCell align=\"center\">Action</TableCell>\n                       </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {listings.map(row => (\n                            <TableRow key={row.id}>\n                                <Row listing={row} />\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>\n    )\n}\n\nexport default Listings","import React,{ useContext } from 'react'\nimport Nav from './home/Nav'\nimport Appbar from './home/Appbar'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { CssBaseline } from '@material-ui/core'\nimport Listings from './home/Listings'\nimport Auth from './Auth'\nimport { facebookContext } from './state/UserDetails'\n\nconst useStyles = makeStyles({\n    home : {\n        display : 'flex'\n    }\n})\n\nconst Home = (props) => {\n    const classes = useStyles()\n    const [, dispatch, ACTIONS] = useContext(facebookContext)\n\n    // Logs out of the current user from the app\n    const handleLogout = () => {\n        window.FB.logout(function(response){\n            console.log(response)\n        })\n        dispatch({type : ACTIONS.DEL})\n        Auth.logout(() => props.history.push('/'))\n    }\n    \n    return(\n        <div className={classes.home} >\n            <CssBaseline />\n            <Appbar handleLogout={handleLogout}/>\n            <Nav />\n            <Listings />\n        </div>\n    )\n}\n\nexport default Home","import React from 'react'\nimport Login from './components/Login'\nimport RestrictedRoute from './components/RestrictedRoute'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport { UserDetailsProvider } from './components/state/UserDetails' \nimport Home from './components/Home'\n\nconst App = () => {\n  return(\n    <React.Fragment>\n      <UserDetailsProvider>\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact component={Login} />\n            <RestrictedRoute path=\"/home\" component={Home} />\n          </Switch>\n        </Router>\n      </UserDetailsProvider>\n    </React.Fragment>\n  )\n}\n \nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}