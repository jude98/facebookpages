{"version":3,"sources":["components/Auth.js","components/state/UserDetails.js","components/Login.js","components/RestrictedRoute.js","components/home/Nav.js","components/home/Appbar.js","components/home/Row.js","components/home/Listings.js","components/Home.js","App.js","index.js"],"names":["this","authenticated","callback","library","add","fab","faFacebook","faGooglePlus","faYelp","faYahoo","faFoursquare","ACTIONS","GET","CHANGE","initialState","id","icon","source","name","about","address","phone","rating","listed","reducer","listings","action","type","payload","details","location","overall_star_rating","access_token","newList","pageInfo","street","push","map","each","facebookContext","createContext","UserDetailsProvider","children","useReducer","dispatch","Provider","value","Login","props","useContext","getPageInfo","response","axios","get","userID","accessToken","then","res","data","forEach","page","cancelToken","CancelToken","token","getEachPageInfo","catch","e","console","log","className","appId","fields","scope","status","Auth","login","history","RestrictedRoute","Component","component","rest","render","to","pathname","state","from","navItems","text","Web","Mouse","Star","sel","EventAvailable","Settings","useStyles","makeStyles","theme","drawer","flexShrink","width","toolbar","backgroundColor","height","drawerPaper","typography","marginTop","color","fontSize","letterSpacing","Nav","classes","Drawer","variant","anchor","paper","Typography","align","Divider","List","item","ListItem","button","key","selected","style","ListItemIcon","ListItemText","primary","app","marginLeft","display","flexDirection","justifyContent","alignItems","form","marginRight","padding","logout","Appbar","handleLogout","AppBar","position","Select","defaultValue","MenuItem","Button","onClick","Row","listing","useState","edit","setEdit","setAbout","setPhone","Fragment","TableCell","TextField","onChange","target","Close","prev","Done","post","Edit","mixins","flexGrow","palette","background","default","spacing","table","minWidth","heading","margin","textTransform","Listings","TableContainer","Paper","Table","TableHead","TableRow","TableBody","row","home","Home","CssBaseline","App","path","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ac89d984.chunk.js","sourcesContent":["//  For handling Authentication \n\nclass Auth {\n    constructor(){\n        this.authenticated = false\n    }\n    \n    login(callback){\n        this.authenticated = true\n        callback()\n    }\n    \n    logout(callback){\n        this.authenticated = false\n        callback()\n    }\n\n    status(){\n        return this.authenticated\n    }\n}\n\n\nexport default new Auth()","import React, { useReducer, createContext } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab, faFacebook, faGooglePlus, faYelp, faYahoo, faFoursquare } from '@fortawesome/free-brands-svg-icons'\n\nlibrary.add(fab,faFacebook,faGooglePlus,faYelp, faYahoo, faFoursquare)\n\n//  ACTIONS\nconst ACTIONS = {\n    GET : 'get',\n    CHANGE : 'change-value'\n}\n\n//  Initial State\nconst initialState = [\n    {\n        id : \"1\",\n        icon : <FontAwesomeIcon icon={['fab','google-plus-g']} />,\n        source : \"Google\",\n        name : \"ABC Dental\",\n        about : \"Best Dental\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        rating : \"3/5\",\n        listed : true,\n    },\n    {\n        id : \"2\",\n        icon : <FontAwesomeIcon icon={['fab','yelp']} />,\n        source : \"Yelp\",\n        name : \"ABC Dental\",\n        about : \"Best Dental Care\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        rating : \"2/5\",\n        listed : false,\n    },\n    {\n        id : \"3\",\n        icon :  <FontAwesomeIcon icon={['fab','yahoo']} />,\n        source : \"Yahoo!\",\n        name : \"ABC Dental\",\n        about : \"Dental in DownTown!\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        rating : \"3/5\",\n        listed : false,\n    },\n    {\n        id : \"4\",\n        icon : <FontAwesomeIcon icon={['fab','foursquare']} />,\n        source : \"Foursqaure\",\n        name : \"ABC Dental\",\n        about : \"Its ABC Dental\",\n        address : \"2101 California St\",\n        phone : \"111.111.1111\",\n        rating : \"3/5\",\n        listed : false,\n    }\n]\n\n// REDUCER function (GET and UPDATE)\nconst reducer = (listings, action) => {\n    switch (action.type) {\n        // GET \n        case ACTIONS.GET : \n            var {location, phone, name, about, overall_star_rating, access_token, id} = action.payload.details\n            var [...newList] = listings\n            const pageInfo = {\n                id : id,\n                access_token : access_token,\n                icon : <FontAwesomeIcon icon={['fab','facebook-f']} />,\n                source : \"Facebook\",\n                name : name,\n                about : about,\n                address : location.street,\n                phone : phone,\n                rating : `${overall_star_rating}/5`,\n                listed : false\n            }\n            newList.push(pageInfo)\n                \n            return newList\n\n        // UPDATE\n        case ACTIONS.CHANGE :\n            var {about, phone, id} = action.payload\n            const tmpList = listings.map(each => {\n                if(each.id === id) {\n                    return {...each,about:about,phone:phone}\n                }\n                return each\n            })\n            return tmpList\n        default : return listings\n    }\n}\n\nexport const facebookContext = createContext()\n\nexport const UserDetailsProvider = ({ children }) => {\n    const [listings, dispatch] = useReducer(reducer, initialState) \n \n    return(\n        <facebookContext.Provider value={[listings, dispatch, ACTIONS]}>\n            {children}\n        </facebookContext.Provider> \n    )\n}\n","import React, { useContext } from 'react'\nimport axios from 'axios'\nimport FacebookLogin from 'react-facebook-login'\nimport Auth from './Auth'\nimport '../App.css'\nimport { facebookContext } from './state/UserDetails'\n\n//  The permissions to be allowed by user\n\nconst scope = \"email,pages_manage_cta,pages_show_list,pages_read_engagement,pages_manage_metadata,pages_read_user_content,public_profile\"\n\nconst Login = (props) => {\n    const [ , dispatch, ACTIONS ] = useContext(facebookContext)\n\n    // Get info of each page (location, phone, name, about, rating, acces_token, id)\n\n    const getEachPageInfo = page => {\n        const cancelToken = axios.CancelToken.source()\n        axios.get(`https://graph.facebook.com/${page.id}?fields=location,phone,name,about,overall_star_rating,access_token&access_token=${page.access_token}`,{cancelToken:cancelToken.token})\n        .then(response => {\n            dispatch({type : ACTIONS.GET, payload : {details : response.data}})\n        })\n        return () => cancelToken.cancel()\n        \n    }\n\n    // Get the info of pages handled by user\n\n    const getPageInfo = (response) => {\n        axios.get(`https://graph.facebook.com/${response.userID}/accounts?access_token=${response.accessToken}`)\n        .then(res => {\n            res.data.data.forEach(page => {\n               getEachPageInfo(page)\n            })\n        })\n        .catch(e => console.log(e))\n    }\n\n    // Loads the users information is authorised.\n\n    const responseFacebook = (response) => {\n        console.log(response)\n        if(response.status === 'unknown' || response.status === 'not_authorized'){\n            console.log('not allowed')\n        }else{\n            Auth.login(() => {\n                props.history.push('/home')\n            })\n            \n            getPageInfo(response)\n        }\n\n    }\n        \n    return(\n        <div className=\"login\">\n            <FacebookLogin \n                appId='3672394659438713'\n                fields=\"name,email,picture\"\n                scope={scope}\n                callback={responseFacebook}\n                icon=\"fa-facebook\"\n            />\n        </div>\n    )\n\n    \n\n   \n    \n}\n\nexport default Login","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport Auth from './Auth'\n\n//  Implemented to allow only authorised users to access the listings page\n\nconst RestrictedRoute = ({component : Component, ...rest}) => {\n    return(\n        <Route {...rest} \n            render={props => {\n                if(Auth.status()) {\n                    return <Component {...props} />\n                }\n                else{\n                    return(\n                        <Redirect\n                            to={{\n                                pathname:'/',\n                                state: {\n                                    from : props.location\n                                }\n                            }}\n                        />\n                    )\n                }\n            }}\n        />\n    )\n}\n\nexport default RestrictedRoute","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Drawer, List, Typography, Divider, ListItem, ListItemText, ListItemIcon } from '@material-ui/core'\nimport { Home, Web, Mouse, Star, List as ListIcon, EventAvailable, Settings } from '@material-ui/icons'\n\n//  Default nav items\n\nconst navItems = [\n    {\n        icon : <Home />,\n        text : \"Dashboard\"\n    },\n    {\n        icon : <Web />,\n        text : \"Website\"\n    },\n    {\n        icon : <Mouse />,\n        text : \"Visitors\"\n    },\n    {\n        icon : <Star />,\n        text : \"Reviews\"\n    },\n    {\n        icon : <ListIcon />,\n        text : \"Listings\",\n        sel : true\n    },\n    {\n        icon : <EventAvailable />,\n        text : \"Appointments\"\n    },\n    {\n        icon : <Settings />,\n        text : \"Settings\"\n    }\n]\n\nconst useStyles = makeStyles(theme => ({\n    drawer : {\n        flexShrink : 0,\n        width : 270,\n    },\n    toolbar : {\n        backgroundColor : '#009688',\n        height : 74\n    },\n    drawerPaper: {\n        width: 270,\n        backgroundColor : '#33ab9f'\n      },\n    typography : {\n        marginTop : 15,\n        color : 'white',\n        fontSize : 25,\n        letterSpacing : 2,\n    }\n\n}))\n\nconst Nav = () => {\n    const classes = useStyles()\n\n    return(\n       <div>\n           <Drawer\n            variant='permanent'\n            className={classes.drawer}\n            anchor=\"left\"\n            classes={{paper: classes.drawerPaper}}\n           >\n                <div className={classes.toolbar}>\n                    <Typography \n                        className={classes.typography} \n                        align=\"center\" \n                        color=\"primary\" \n                        variant=\"h6\">\n                            GROWTH PLUG\n                    </Typography>\n                </div>\n                <Divider />\n                <List>\n                    {navItems.map(item => (\n                        <ListItem \n                            button key={item.text} \n                            selected={item.sel ? true : false} \n                            style={{ color : 'white'}}\n                        >\n                            <ListItemIcon style={{ color : 'white'}}>{item.icon}</ListItemIcon>\n                            <ListItemText primary={item.text}/>\n                        </ListItem>\n                    ))}\n                </List>\n           </Drawer>\n       </div>\n    )\n}\n\nexport default Nav ","import React from 'react'\nimport { AppBar, Select, MenuItem, Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\n\n\n\nconst useStyles = makeStyles({\n    app : {\n        backgroundColor : 'white',\n        width : 'calc(100% - 270px)',\n        marginLeft : '270px',\n        display : 'flex',\n        flexDirection : 'row',\n        justifyContent : 'flex-end',\n        alignItems : 'center'\n    },\n    form : {\n        marginRight : '70px',\n        padding : '20px'\n    },\n    logout: {\n        marginRight : 20,\n    }\n\n})\n\nconst Appbar = ({handleLogout}) => {\n    const classes = useStyles()\n\n    \n    return(\n        <AppBar position=\"fixed\" className={classes.app}>\n            <div className={classes.form}>\n                <Select id=\"loc\" defaultValue=\"San Jose, CA\">\n                    <MenuItem value=\"San Jose, CA\">San Jose, CA</MenuItem>\n                </Select>\n            </div>\n            <div className={classes.logout}>\n                <Button variant=\"contained\" color=\"primary\" onClick={handleLogout}>Logout</Button>\n            </div>\n        </AppBar>\n    )\n}\n\nexport default Appbar\n","import React, { useState, useContext } from 'react'\nimport { facebookContext } from '../state/UserDetails'\nimport { TableCell, TextField, Button } from '@material-ui/core'\nimport { Edit, Close, Done } from '@material-ui/icons'\nimport axios from 'axios'\n\n//  Component for each row of table.\n\nconst Row = ({ listing }) => {\n    const [ ,dispatch, ACTIONS ] = useContext(facebookContext)\n    const [ edit, setEdit ] = useState(false)\n    const [ about ,setAbout ] = useState(listing.about)\n    const [ phone, setPhone ] = useState(listing.phone)\n    \n    // Handle the update (only few feilds can be updated)\n    const handleUpdate = () => {\n        setEdit(prev => !prev)\n        if(listing.id > 4) {\n            axios.post(`https://graph.facebook.com/${listing.id}?about=${about}&phone=${phone}&access_token=${listing.access_token}`)\n            .then(response => console.log(response))\n        }\n        dispatch({type: ACTIONS.CHANGE, payload:{about : about, phone : phone, id : listing.id}})\n    }\n    \n    const handleEdit = () => {\n        setEdit(prev => !prev)\n    }\n    \n    const handleCancel = () => {\n        setAbout(listing.name)\n        setPhone(listing.phone)\n        setEdit(prev => !prev)\n    }\n\n    return(\n        <React.Fragment>\n            <TableCell align=\"center\" style={{fontSize : '1.4rem'}}>\n                {listing.icon}\n            </TableCell>\n            <TableCell align=\"center\">{listing.source}</TableCell>\n            <TableCell align=\"center\">{listing.name}</TableCell>\n            <TableCell align=\"center\">\n                {edit ? \n                    <TextField \n                        name='about' \n                        value={about} \n                        onChange={e => setAbout(e.target.value)} \n                        color='secondary'\n                    /> : \n                    listing.about}\n            </TableCell>\n            <TableCell align=\"center\">{listing.address}</TableCell>\n            <TableCell align=\"center\">\n                {edit ? \n                    <TextField \n                        name='phone' \n                        value={phone} \n                        onChange={e => setPhone(e.target.value)} \n                        color='secondary'\n                    /> : \n                    listing.phone}\n            </TableCell>\n            <TableCell align=\"center\">{listing.rating}</TableCell>\n            <TableCell align=\"center\">{listing.listed ? 'Yes': 'No'}</TableCell>\n            <TableCell align=\"center\">\n                {edit ?\n                    <Close \n                        color=\"secondary\" \n                        style={{fontSize : 35}} \n                        onClick={handleCancel} \n                    /> :\n                    <Done style={{fontSize : 35,color: \"#4caf50\" }} />        \n                }\n            </TableCell>\n            <TableCell align=\"center\">\n                {edit ? \n                    <Button \n                        variant=\"contained\" \n                        color=\"primary\" \n                        onClick={handleUpdate}\n                    >\n                        Update\n                    </Button> :\n                    <Edit color=\"primary\" onClick={handleEdit} />\n                }\n            </TableCell>\n    </React.Fragment>\n    )\n}\n\nexport default Row","import React, { useContext } from 'react'\nimport { makeStyles, Typography, Table, TableBody, TableContainer, TableRow, TableCell, TableHead, Paper } from '@material-ui/core'\nimport { facebookContext } from '../state/UserDetails'\nimport Row from './Row'\n\n//    The Listings Table ..\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: theme.mixins.toolbar,\n    listings : {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.default,\n        padding: theme.spacing(3)\n    },\n    table : {\n        minWidth : 650\n    },\n    heading : {\n        margin : 30,\n        textTransform : \"uppercase\"\n    }\n}))\n\nconst Listings = () => {\n    const [listings] = useContext(facebookContext)\n    const classes = useStyles()\n    return(\n        <div className={classes.listings}>\n            <div className={classes.toolbar} />\n            <Typography \n                align=\"center\" \n                variant=\"h4\" \n                className={classes.heading}\n            >\n                Listings\n            </Typography>\n            <TableContainer component={Paper}>\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell></TableCell>\n                            <TableCell align=\"center\">Source</TableCell>\n                            <TableCell align=\"center\">Name</TableCell>\n                            <TableCell align=\"center\">About</TableCell>\n                            <TableCell align=\"center\">Address</TableCell>\n                            <TableCell align=\"center\">Phone</TableCell>\n                            <TableCell align=\"center\">Rating</TableCell>\n                            <TableCell align=\"center\">Listed</TableCell>\n                            <TableCell align=\"center\">Status</TableCell>\n                            <TableCell align=\"center\">Action</TableCell>\n                       </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {listings.map(row => (\n                            <TableRow key={row.id}>\n                                <Row listing={row} />\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>\n    )\n}\n\nexport default Listings","import React from 'react'\nimport Nav from './home/Nav'\nimport Appbar from './home/Appbar'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { CssBaseline } from '@material-ui/core'\nimport Listings from './home/Listings'\nimport Auth from './Auth'\n\nconst useStyles = makeStyles({\n    home : {\n        display : 'flex'\n    }\n})\n\nconst Home = (props) => {\n    const classes = useStyles()\n\n    const handleLogout = () => {\n        Auth.logout(() => props.history.push('/'))\n    }\n    \n    return(\n        <div className={classes.home} >\n            <CssBaseline />\n            <Appbar handleLogout={handleLogout}/>\n            <Nav />\n            <Listings />\n        </div>\n    )\n}\n\nexport default Home","import React from 'react'\nimport Login from './components/Login'\nimport RestrictedRoute from './components/RestrictedRoute'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport { UserDetailsProvider } from './components/state/UserDetails' \nimport Home from './components/Home'\n\nconst App = () => {\n  return(\n    <React.Fragment>\n      <UserDetailsProvider>\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact component={Login} />\n            <RestrictedRoute path=\"/home\" component={Home} />\n          </Switch>\n        </Router>\n      </UserDetailsProvider>\n    </React.Fragment>\n  )\n}\n \nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}